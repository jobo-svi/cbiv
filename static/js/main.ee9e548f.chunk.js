(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},17:function(e,t,n){e.exports=n(30)},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),l=n.n(i),c=(n(25),n(7)),o=n(2),u=n(3),s=n(5),m=n(16),d=n(10),p=n.n(d),f=function(e){return r.a.createElement("div",{className:"flip-card-container"},r.a.createElement("div",{className:"flip-card"},r.a.createElement("div",{className:"flip-card-inner"},r.a.createElement("div",{className:"flip-card-front"},e.front),r.a.createElement("div",{className:"flip-card-back"},e.back))))},g=function(e){return r.a.createElement("div",{className:"image-component",style:{justifyContent:e.horizontalAlignment,alignItems:e.verticalAlignment}},r.a.createElement("img",{src:e.src,alt:e.alt}))},b=function(e){return r.a.createElement("h1",null,e.text)},h=function(e){return r.a.createElement("p",null,e.text)},v=n(6),E=function(e){return r.a.createElement("div",{className:"undefined-element"},r.a.createElement(v.a,{icon:"fa-solid fa-triangle-exclamation"}),r.a.createElement("span",{className:"message"},"The element '",e.element,"' could not be found"),r.a.createElement(v.a,{icon:"fa-solid fa-triangle-exclamation"}))},y={header:{type:b,component:"header",props:{text:"My Header"},defaultHeight:48},paragraph:{type:h,component:"paragraph",props:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mattis felis sed suscipit consequat. Nullam feugiat quam sit amet est tincidunt, nec malesuada augue posuere. Curabitur posuere libero eu nunc rhoncus, sit amet ullamcorper magna mattis. Nullam et mauris in risus malesuada fringilla ut et lacus. Phasellus congue at velit ac cursus. Integer pretium magna vitae ex vehicula lobortis. Morbi tincidunt purus a lorem pharetra molestie. Morbi ac volutpat diam. In sollicitudin luctus dictum. In sollicitudin nisl sapien, ut dignissim nibh consectetur vitae."},defaultHeight:96},image:{type:g,component:"image",props:{src:"img/image-2.jpg",alt:"Alt Text"},defaultHeight:826},flipcard:{type:f,component:"flipcard",defaultHeight:300}},O=function(e){return y[e.component]&&"undefined"!==typeof y[e.component].type?r.a.createElement(y[e.component].type,function e(t){var n={key:t.id};if(!t.props)return n;for(var a=0,i=Object.entries(t.props);a<i.length;a++){var l=i[a],c=Object(u.a)(l,2),o=c[0],s=c[1],m=null!==s&&"object"===typeof s&&s.hasOwnProperty("component");n[o]=m?r.a.createElement(y[s.component].type,e(s)):s}return n}(e)):r.a.createElement(function(){return r.a.createElement(E,{element:e.component})},{key:e.id})};var j=function(e){var t=Object(s.g)({id:"initial-droppable"}),n=t.isOver,a=t.setNodeRef;return r.a.createElement("div",{id:"initial-droppable",ref:a,style:{height:"100px",background:n?"#cae4ff":"#FFF",borderStyle:"dashed",borderColor:"#A2A2A2"}})},w=function(e){var t=Object(s.g)({id:e.id,data:{type:"row"}}).setNodeRef;return r.a.createElement("div",{id:e.row.id,key:e.row.id,ref:t,className:"grid-row",style:e.style},e.children)},S=n(1),x=Object(a.forwardRef)(function(e,t){return r.a.createElement("div",{id:e.column.id,key:e.column.id,ref:t,className:"grid-column",onMouseOver:function(){return e.setShowDragHandle(!0)},onMouseOut:function(){return e.setShowDragHandle(!1)},style:Object(o.a)({},e.draggingStyle,e.positionStyle,e.hoverStyle)},e.children)}),N=function(e){var t=Object(s.g)({id:e.id,data:{type:"column",rowId:e.rowId}}).setNodeRef,n=Object(s.f)({id:e.id,data:Object(o.a)({rowId:e.rowId},e.data)}),i=n.setNodeRef,l=n.listeners,c=n.attributes,m=n.isDragging,d=Object(S.o)(t,i),p=Object(a.useState)(!1),f=Object(u.a)(p,2),g=f[0],b=f[1],h={};g&&(h.position="relative",h.border="1px solid #343536",h.margin="-1px");var E={};return m&&(E.opacity=".5"),r.a.createElement(x,Object.assign({ref:d,showDragHandle:g,setShowDragHandle:b,hoverStyle:h,draggingStyle:E},e),e.children,r.a.createElement("div",Object.assign({},l,c,{style:{display:g?"flex":"none",position:"absolute",right:"0px",top:"50%",transform:"translate(50%, -50%)",background:"#343536",color:"#D7D7D7",zIndex:"1",height:25,width:25,borderRadius:"50%",justifyContent:"center",alignItems:"center",fontSize:"18px",cursor:"grab"}}),r.a.createElement(v.a,{icon:"fa-solid fa-up-down-left-right"})))},I=Object(a.forwardRef)(function(e,t){var n=e.items,a=e.onGridItemClick,i=e.dropTargetIndex,l=e.placementPreviewStyle,c=e.relativeHoverPosition,u=e.translateTiming,s=e.columnTimerActive,m=e.gridGap,d=e.draggingElement;function p(e){var t={},n="center"===c&&e===i;return null===i?(null!==d&&(t.transition="transform ".concat(u,"ms ease 0s")),t):(n&&!s?(t.justifyContent="unset",t.transition="transform ".concat(u,"ms ease 0s")):e>=i&&"center"!==c?(t.transition="transform ".concat(u,"ms ease 0s"),t.transform="translate3d(0px, ".concat(l.height+m,"px, 0px)")):(t.transition="transform ".concat(u,"ms ease 0s"),t.transform="translate3d(0px, 0px, 0px)"),t)}function f(e,t,a){var r={transition:"width ".concat(u,"ms ease 0s")};if("center"===c&&e===i&&!s){r.flex="unset";var l=m*a,o=(document.getElementById(n[e].id).getBoundingClientRect().width-l)/(a+1);r.width="".concat(o,"px")}return r}return r.a.createElement("div",{className:"grid-wrapper",ref:t},r.a.createElement("div",{className:"grid",style:{gap:m}},0===n.length&&r.a.createElement(j,null),n.length>0&&n.map(function(e,t){return r.a.createElement(w,{id:e.id,key:e.id,row:e,style:Object(o.a)({},p(t),{gap:m})},e.columns.map(function(n,i){return r.a.createElement(N,{id:n.id,rowId:e.id,key:n.id,column:n,onClick:function(){return a(n)},positionStyle:f(t,0,e.columns.length)},O(n))}))})))}),C=(n(13),function(e){var t=Object(s.f)({id:e.id,data:e.data}),n=t.attributes,a=t.listeners,i=t.setNodeRef;return r.a.createElement("div",Object.assign({ref:i},a,n,{style:{touchAction:"manipulation"}}),e.children)}),R=function(e){return r.a.createElement("div",{className:"builder-elements-menu"},r.a.createElement("div",{className:"element-wrapper"},r.a.createElement(C,{id:"header-menu-item",data:{type:"header",height:y.header.defaultHeight}},r.a.createElement("button",{className:"element"},r.a.createElement(v.a,{icon:"fa-solid fa-heading"})," HEADER"))),r.a.createElement("div",{className:"element-wrapper"},r.a.createElement(C,{id:"paragraph-menu-item",data:{type:"paragraph",height:y.paragraph.defaultHeight}},r.a.createElement("button",{className:"element"},r.a.createElement(v.a,{icon:"fa-solid fa-paragraph"}),"PARAGRAPH"))),r.a.createElement("div",{className:"element-wrapper"},r.a.createElement(C,{id:"image-menu-item",data:{type:"image",height:y.image.defaultHeight}},r.a.createElement("button",{className:"element"},r.a.createElement(v.a,{icon:"fa-solid fa-image"}),"IMAGE"))),r.a.createElement("div",{className:"element-wrapper"},r.a.createElement(C,{id:"flipcard-menu-item",data:{type:"flipcard",height:y.flipcard.defaultHeight}},r.a.createElement("button",{className:"element"},r.a.createElement(v.a,{icon:"fa-solid fa-image"}),"FLIP CARD"))))},T=function(e){var t=Object(a.useState)(JSON.parse(JSON.stringify(e.item))),n=Object(u.a)(t,2),i=n[0],l=n[1];return r.a.createElement("div",{className:"item-editor",style:{display:"flex",flexDirection:"column"}},O(e.item),r.a.createElement("input",{type:"text",onChange:function(e){var t=Object(o.a)({},i);t.props.text=e.target.value,l(t)},value:i.props.text}),r.a.createElement("button",{onClick:function(){return e.onSaveChanges(i)}},"SAVE"))},H=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"course"},r.a.createElement("span",{className:"course-image"}),r.a.createElement("span",{className:"course-title"},"Course Title (edit)")),r.a.createElement("div",{className:"options"},r.a.createElement("span",{className:"option preview"},"Preview")))},D=Object(a.forwardRef)(function(e,t){return r.a.createElement("div",{id:"placement-preview",ref:t,style:Object(o.a)({},e.style)},r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{style:{visibility:"hidden"}},e.children))});function k(e,t){var n=Object(a.useRef)(null),r=Object(a.useRef)(e);return Object(a.useEffect)(function(){r.current=e},[e]),Object(a.useEffect)(function(){if("number"===typeof t)return n.current=window.setTimeout(function(){return r.current()},t),function(){return window.clearTimeout(n.current)}},[t]),n}var A=function(){var e=Object(a.useRef)({x:null,y:null});return Object(a.useEffect)(function(){var t=function(t){e.current={x:t.clientX,y:t.clientY}};return window.addEventListener("pointermove",t),function(){window.removeEventListener("pointermove",t)}},[]),e},M={content:{body:[{id:p()(),columns:[{id:p()(),component:"paragraph",props:{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris mattis felis sed suscipit consequat. Nullam feugiat quam sit amet est tincidunt, nec malesuada augue posuere. Curabitur posuere libero eu nunc rhoncus, sit amet ullamcorper magna mattis. Nullam et mauris in risus malesuada fringilla ut et lacus. Phasellus congue at velit ac cursus. Integer pretium magna vitae ex vehicula lobortis. Morbi tincidunt purus a lorem pharetra molestie. Morbi ac volutpat diam. In sollicitudin luctus dictum. In sollicitudin nisl sapien, ut dignissim nibh consectetur vitae."}}]}]}},P=function(){var e=Object(s.h)(s.c,{activationConstraint:{distance:1}}),t=Object(s.h)(s.d,{activationConstraint:{tolerance:5}}),n=Object(s.i)(e,t),i=Object(a.useState)(M.content.body),l=Object(u.a)(i,2),d=l[0],f=l[1],g=Object(a.useState)(null),b=Object(u.a)(g,2),h=b[0],v=b[1],E=Object(a.useState)(null),j=Object(u.a)(E,2),w=j[0],S=j[1],x=Object(a.useRef)(null),N=A(),C=Object(a.useRef)(null),P=Object(a.useRef)(null),F={visibility:"hidden",height:0},G=Object(a.useState)(F),B=Object(u.a)(G,2),L=B[0],q=B[1],J=Object(a.useState)(L),z=Object(u.a)(J,2),V=z[0],W=z[1],X=Object(a.useState)(null),Y=Object(u.a)(X,2),K=Y[0],Q=Y[1],U=Object(a.useState)(null),Z=Object(u.a)(U,2),$=Z[0],_=Z[1],ee=Object(a.useState)($),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(null),ie=Object(u.a)(re,2),le=ie[0],ce=ie[1],oe=Object(a.useState)(le),ue=Object(u.a)(oe,2),se=ue[0],me=ue[1],de=Object(a.useState)(!1),pe=Object(u.a)(de,2),fe=pe[0],ge=pe[1],be=Object(a.useState)(+localStorage.getItem("slopTiming")||150),he=Object(u.a)(be,2),ve=he[0],Ee=he[1],ye=Object(a.useState)(+localStorage.getItem("translateTiming")||300),Oe=Object(u.a)(ye,2),je=Oe[0],we=Oe[1],Se=Object(a.useState)(+localStorage.getItem("columnDelayTiming")||1e3),xe=Object(u.a)(Se,2),Ne=xe[0],Ie=xe[1],Ce=Object(a.useState)(+localStorage.getItem("gridGap")||24),Re=Object(u.a)(Ce,2),Te=Re[0],He=Re[1];Object(a.useEffect)(function(){localStorage.setItem("translateTiming",je),localStorage.setItem("columnDelayTiming",Ne),localStorage.setItem("gridGap",Te),localStorage.setItem("slopTiming",ve)},[je,Ne,Te,ve]),k(function(){ce(le),_("center"),ge(!1)},fe?Ne:null);var De=Object(a.useState)(!1),ke=Object(u.a)(De,2),Ae=ke[0],Me=ke[1];k(function(){null!==h?(W(L),me(le),ae($)):console.log("timer triggered but dragging element was null"),Me(!1)},Ae?ve:null),Object(a.useEffect)(function(){null===h||Ae||Me(!0)},[L,le,$]),Object(a.useEffect)(function(){if(h&&w&&d.length){var e=d[le];if(le===d.length&&(e=d[d.length-1]),fe){var t=x.current.find(function(t){return t.id===e.id});if(t){t=t.data.droppableContainer.rect.current;var n={transition:"height 300ms ease 0s, top 300ms ease 0s",top:P.current.style.top,left:t.left,width:t.width,height:0};Je(L,n)}}var a=Le();if("center"!==$||fe){if(!fe&&x.current){var r=x.current.find(function(t){return t.id===e.id});if(r){var i=r.data.droppableContainer.rect.current,l=0;if(le===d.length&&(l+=i.height+Te),qe(h,d,le)){var c={visibility:"visible",width:i.width,height:a,top:i.top+l,left:i.left,transition:"transform ".concat(je,"ms ease 0s, height 400ms ease 0s, top 400ms ease 0s")};Je(L,c)}else me(null),ae(null),W(Object(o.a)({},L,{height:0})),Me(!1)}}}else{var u=d.find(function(e){return e.id===w.id}).columns.length,s=(w.data.droppableContainer.rect.current.width-Te*u)/(u+1),m=w.data.droppableContainer.rect.current.left+s*u+Te*u;if(qe(h,d,le)){var p={top:w.data.droppableContainer.rect.current.top,left:m,width:s,height:a,transition:"height 300ms ease 0s, top 300ms ease 0s"};Je(L,p)}else me(null),ae(null),W(F),Me(!1)}}},[$,w,le,fe]);var Pe=function(e){return e&&e.length?e.filter(function(e){return e.data.droppableContainer.data.current&&"row"===e.data.droppableContainer.data.current.type})[0]:null};function Fe(e,t,n){var a=Object(c.a)(d);if(n){var r=a[e];r&&r.columns.push({id:p()(),component:t,props:Object(o.a)({},y[t].props)})}else{var i={id:p()(),columns:[{id:p()(),component:t,props:Object(o.a)({},y[t].props)}]};a.splice(e,0,i)}return a}var Ge=function(){if(h){var e=Be(h.id);return O(e?y[e.component]:y[h.data.current.type])}},Be=function(e){return d.flatMap(function(e){return e.columns}).find(function(t){return t.id===e})},Le=function(){return h&&h.data.current&&h.data.current.height?"center"===$?w.data.droppableContainer.rect.current.height:h.data.current.height:document.getElementById(h.id).getBoundingClientRect().height},qe=function(e,t,n){var a=!0;if(e.data.current.rowId){var r=t.findIndex(function(t){return t.id===e.data.current.rowId});1!==t[r].columns.length||n!==r&&n!==r+1||"center"===$||(a=!1),"center"===$&&n===r&&(a=!1)}return a},Je=function(e,t){(function(e,t){return e.visibility!==t.visibility||e.width!==t.width||e.height!==t.height||e.top!==t.top||e.left!==t.left||e.transition!==t.transition||e.transform!==t.transform})(e,t)&&q(t)};return r.a.createElement("div",{className:"builder",style:{cursor:h?"grabbing":""}},r.a.createElement(H,null),r.a.createElement("div",{className:"lessons"},"lessons"),r.a.createElement(s.a,{onDragStart:function(e){var t=e.active;v(t),console.log("grid wrapper height",C.current.clientHeight),console.log(t.data.current.height),C.current.style.height="".concat(C.current.clientHeight+t.data.current.height+100,"px")},onDragEnd:function(e){var t=e.active,n=e.collisions,a=Pe(n);if(a)if(0===d.length)f(Fe(0,t.data.current.type,!1));else{var r=d.map(function(e){return e.id}).indexOf(a.id);if(-1!==r){"bottom"===$&&(r+=1);var i=Be(h.id);f(i?function(e,t,n){var a=Object(c.a)(d);if(a.map(function(t){var n=t.columns.find(function(t){return t.id===e.id});n&&(t.columns=t.columns.filter(function(e){return e.id!==n.id}))}),n){var r=a[t];r&&r.columns.push(e)}else{var i={id:p()(),columns:[e]};a.splice(t,0,i)}return a=a.filter(function(e){return e.columns.length>0})}(i,r,"center"===$&&!fe):Fe(r,t.data.current.type,"center"===$&&!fe))}}v(null),S(null),x.current=null,C.current.style.height=null,me(null),ae(null),W(F),q(F),Me(!1)},onDragMove:function(e){var t=e.collisions;x.current=t;var n=Pe(t);if(S(n),n){var a=n.data.droppableContainer.rect.current,r=n.data.droppableContainer.rect.current.height,i=a.top,l=a.bottom,c=i+r/10,o=l-r/10,u=N.current,s=u.y>=a.top&&u.y<=a.bottom&&u.x>=a.left&&u.x<=a.right,m=s&&u.y<=c&&u.y>=i,p=s&&u.y>=o&&u.y<=l,f=s&&!m&&!p,g=!s&&u.y<a.top+r/2,b=!s&&u.y>a.top+r/2,h=d.map(function(e){return e.id}).indexOf(n.id),v=null;-1!==h&&(g||m?v="top":b||p?(v="bottom",h+=1):f&&(v="center"),ce(h),_(v),"center"!==v&&ge(!1),"center"===v&&"center"!==$&&ge(!0))}},collisionDetection:s.e,modifiers:[m.a],sensors:n,autoScroll:!0},r.a.createElement("div",{className:"lesson-content"},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",marginBottom:"40px"}},r.a.createElement("label",null,r.a.createElement("div",null,"Translate speed (ms)"),r.a.createElement("input",{type:"number",value:je,onChange:function(e){return we(parseInt(e.target.value))}})),r.a.createElement("label",null,r.a.createElement("div",null,"Column hover time (ms)"),r.a.createElement("input",{type:"number",value:Ne,onChange:function(e){return Ie(parseInt(e.target.value))}})),r.a.createElement("label",null,r.a.createElement("div",null,"Slop time (ms)"),r.a.createElement("input",{type:"number",value:ve,onChange:function(e){return Ee(parseInt(e.target.value))}})),r.a.createElement("label",null,r.a.createElement("div",null,"Space between rows/cols"),r.a.createElement("input",{type:"number",value:Te,onChange:function(e){return He(parseInt(e.target.value))}}))),r.a.createElement(I,{items:d,setItems:f,onGridItemClick:function(e){console.log("clicked grid item",e)},dropTargetIndex:se,placementPreviewStyle:V,relativeHoverPosition:ne,translateTiming:je,columnTimerActive:fe,gridGap:Te,draggingElement:h,ref:C})),r.a.createElement("div",{className:"sidebar",style:{overflow:"auto"}},null!==K?r.a.createElement(T,{item:K,onSaveChanges:function(e){f(d.map(function(t){return t.id===e.id?e:t})),Q(null)}}):r.a.createElement(R,null)),r.a.createElement(s.b,{dropAnimation:null},r.a.createElement("div",{style:{opacity:".5",overflow:"hidden",border:"1px solid #343536"}},Ge())),r.a.createElement(D,{ref:P,style:V},Ge())))},F=n(11),G=n(12);F.b.add(G.b,G.a,G.c,G.d,G.e);var B=function(){return r.a.createElement(P,null)},L=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,31)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),i(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null))),L()}},[[17,3,2]]]);
//# sourceMappingURL=main.ee9e548f.chunk.js.map